$(document).ready(function(){function a(a,b){var c=$("#search-results");if(a.length){for(var d="",e=0;e<a.length;e++){var f=b[a[e].ref];d+='<div class="post-box"><h2 class="header small-header item-header"><a href="'+f.url+'">'+f.title+"</a></h2>",d+='<p class="item-description">'+f.content.substring(0,150)+"...</p></div>"}$(c).html(d)}else $(c).html('<div class="post-box">No results found</div>')}function b(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return decodeURIComponent(e[1].replace(/\+/g,"%20"))}}var c=b("query");if(c){$("#search-box").val(c);var d=lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("category"),this.field("content")});for(var e in window.store){d.add({id:e,title:window.store[e].title,category:window.store[e].category,content:window.store[e].content});var f=d.search(c);a(f,window.store)}}});